{% extends 'base.html' %}
{% load custom_filters %}

{% block meta %}
<title>Edit Product</title>
{% endblock meta %}

{% block content %}
{% include 'navbar.html' %}

<div class="flex flex-col min-h-screen">
    <div class="container mx-auto px-4 py-8 mt-16 max-w-xl">
        <h1 class="text-3xl font-bold text-center mb-8 text-black">Edit Product: {{ product.name }}</h1>
        <div class="form-container">
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="space-y-6">
                    <div class="flex flex-col">
                        <label for="{{ form.name.id_for_label }}" class="form-label">Product Name</label>
                        {{ form.name|add_class:"form-input" }}
                    </div>
                    <div class="flex flex-col">
                        <label for="{{ form.price.id_for_label }}" class="form-label">Price</label>
                        {{ form.price|add_class:"form-input" }}
                    </div>
                    <div class="flex flex-col">
                        <label for="{{ form.brand.id_for_label }}" class="form-label">Brand</label>
                        {{ form.brand|add_class:"form-input" }}
                    </div>
                    <div class="flex flex-col">
                        <label for="{{ form.category.id_for_label }}" class="form-label">Category</label>
                        {{ form.category|add_class:"form-input select2-multiple" }}
                    </div>
                    <div class="flex flex-col">
                        <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
                        {{ form.description|add_class:"form-input" }}
                    </div>
                    <div class="flex flex-col">
                        <label for="{{ form.sku.id_for_label }}" class="form-label">SKU</label>
                        {{ form.sku|add_class:"form-input" }}
                    </div>
                    <div class="flex flex-col">
                        <label for="{{ form.stock_quantity.id_for_label }}" class="form-label">Stock Quantity</label>
                        {{ form.stock_quantity|add_class:"form-input" }}
                    </div>
                    <div class="flex flex-col">
                        <label for="{{ form.image.id_for_label }}" class="form-label">Product Image</label>
                        {{ form.image|add_class:"form-input" }}
                    </div>
                    <div class="mt-6 flex justify-center">
                        <button type="submit" class="btn-primary">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script>
    $(document).ready(function() {
        $('.select2-multiple').select2({
            theme: 'classic',
            placeholder: 'Select categories',
            allowClear: true,
            width: '100%'
        });
    });
</script>
{% endblock content %}
